   1               		.file	"ssd1306xled.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               	.global	i2csw_start
  12               	i2csw_start:
  13               	.LFB5:
  14               		.file 1 "ssd1306xled.c"
   1:ssd1306xled.c **** /**
   2:ssd1306xled.c ****  * SSD1306xLED - Library for the SSD1306 based OLED/PLED 128x64 displays
   3:ssd1306xled.c ****  *
   4:ssd1306xled.c ****  * @author Neven Boyanov
   5:ssd1306xled.c ****  *
   6:ssd1306xled.c ****  * This is part of the Tinusaur/SSD1306xLED project.
   7:ssd1306xled.c ****  *
   8:ssd1306xled.c ****  * Copyright (c) 2018 Neven Boyanov, The Tinusaur Team. All Rights Reserved.
   9:ssd1306xled.c ****  * Distributed as open source software under MIT License, see LICENSE.txt file.
  10:ssd1306xled.c ****  * Retain in your source code the link http://tinusaur.org to the Tinusaur project.
  11:ssd1306xled.c ****  *
  12:ssd1306xled.c ****  * Source code available at: https://bitbucket.org/tinusaur/ssd1306xled
  13:ssd1306xled.c ****  *
  14:ssd1306xled.c ****  */
  15:ssd1306xled.c **** 
  16:ssd1306xled.c **** // ============================================================================
  17:ssd1306xled.c **** // ACKNOWLEDGEMENTS:
  18:ssd1306xled.c **** // - Some code and ideas initially based on "IIC_wtihout_ACK"
  19:ssd1306xled.c **** //   by http://www.14blog.com/archives/1358 (defunct)
  20:ssd1306xled.c **** // - Init sequence used info from Adafruit_SSD1306.cpp init code.
  21:ssd1306xled.c **** // ============================================================================
  22:ssd1306xled.c **** 
  23:ssd1306xled.c **** #include <stdlib.h>
  24:ssd1306xled.c **** #include <avr/io.h>
  25:ssd1306xled.c **** #include <avr/pgmspace.h>
  26:ssd1306xled.c **** 
  27:ssd1306xled.c **** #include "ssd1306xled.h"
  28:ssd1306xled.c **** 
  29:ssd1306xled.c **** // ----------------------------------------------------------------------------
  30:ssd1306xled.c **** 
  31:ssd1306xled.c **** void ssd1306_start_command(void);	// Initiate transmission of command
  32:ssd1306xled.c **** void ssd1306_start_data(void);	// Initiate transmission of data
  33:ssd1306xled.c **** void ssd1306_data_byte(uint8_t);	// Transmission 1 byte of data
  34:ssd1306xled.c **** void ssd1306_stop(void);	// Finish transmission
  35:ssd1306xled.c **** 
  36:ssd1306xled.c **** // ----------------------------------------------------------------------------
  37:ssd1306xled.c **** 
  38:ssd1306xled.c **** const uint8_t ssd1306_init_sequence [] PROGMEM = {	// Initialization Sequence
  39:ssd1306xled.c **** 
  40:ssd1306xled.c **** 	0xAE,			// Set Display ON/OFF - AE=OFF, AF=ON
  41:ssd1306xled.c **** 	0xD5, 0xF0,		// Set display clock divide ratio/oscillator frequency, set divide ratio
  42:ssd1306xled.c **** 	0xA8, 0x1F,		// Set multiplex ratio (1 to 64) ... (height - 1)
  43:ssd1306xled.c **** 	0xD3, 0x00,		// Set display offset. 00 = no offset
  44:ssd1306xled.c **** 	0x40 | 0x00,	// Set start line address, at 0.
  45:ssd1306xled.c **** 	0x8D, 0x14,		// Charge Pump Setting, 14h = Enable Charge Pump
  46:ssd1306xled.c **** 	0x20, 0x00,		// Set Memory Addressing Mode - 00=Horizontal, 01=Vertical, 10=Page, 11=Invalid
  47:ssd1306xled.c **** 	0xA0 | 0x01,	// Set Segment Re-map
  48:ssd1306xled.c **** 	0xC8,			// Set COM Output Scan Direction
  49:ssd1306xled.c **** 	0xDA, 0x02,		// Set COM Pins Hardware Configuration - 128x32:0x02, 128x64:0x12
  50:ssd1306xled.c **** 	0x81, 0x3F,		// Set contrast control register
  51:ssd1306xled.c **** 	0xD9, 0x22,		// Set pre-charge period (0x22 or 0xF1)
  52:ssd1306xled.c **** 	0xDB, 0x20,		// Set Vcomh Deselect Level - 0x00: 0.65 x VCC, 0x20: 0.77 x VCC (RESET), 0x30: 0.83 
  53:ssd1306xled.c **** 	0xA4,			// Entire Display ON (resume) - output RAM to display
  54:ssd1306xled.c **** 	0xA6,			// Set Normal/Inverse Display mode. A6=Normal; A7=Inverse
  55:ssd1306xled.c **** 	0x2E,			// Deactivate Scroll command
  56:ssd1306xled.c **** 	0xAF,			// Set Display ON/OFF - AE=OFF, AF=ON
  57:ssd1306xled.c **** 	//
  58:ssd1306xled.c **** 	0x22, 0x00, 0x3f,	// Set Page Address (start,end)
  59:ssd1306xled.c **** 	0x21, 0x00,	0x7f,	// Set Column Address (start,end)
  60:ssd1306xled.c **** 	//
  61:ssd1306xled.c **** 	// 0xD6, 0x01,		// Set Zoom In, 0=disabled, 1=enabled
  62:ssd1306xled.c **** /*
  63:ssd1306xled.c **** 	0xAE,			// Display OFF (sleep mode)
  64:ssd1306xled.c **** 	0x20, 0x00,		// Set Memory Addressing Mode - 00=Horizontal, 01=Vertical, , 10=Page, 11=Invalid
  65:ssd1306xled.c **** 	0xB0,			// Set Page Start Address for Page Addressing Mode, 0-7
  66:ssd1306xled.c **** 	0xC8,			// Set COM Output Scan Direction
  67:ssd1306xled.c **** 	0x00,			// ---set low column address
  68:ssd1306xled.c **** 	0x10,			// ---set high column address
  69:ssd1306xled.c **** 	0x40,			// --set start line address
  70:ssd1306xled.c **** 	0x81, 0x3F,		// Set contrast control register
  71:ssd1306xled.c **** 	0xA1,			// Set Segment Re-map. A0=address mapped; A1=address 127 mapped.
  72:ssd1306xled.c **** 	0xA6,			// Set display mode. A6=Normal; A7=Inverse
  73:ssd1306xled.c **** 	0xA8, 0x1F,		// Set multiplex ratio(1 to 64)
  74:ssd1306xled.c **** 	0xA4,			// Output RAM to Display - 0xA4=Output follows RAM content; 0xA5,Output ignores RAM conten
  75:ssd1306xled.c **** 	0xD3, 0x00,		// Set display offset. 00 = no offset
  76:ssd1306xled.c **** 	0xD5, 0xF0,		// --set display clock divide ratio/oscillator frequency
  77:ssd1306xled.c **** 	0xD9, 0x22,		// Set pre-charge period
  78:ssd1306xled.c **** 	0xDA, 0x12,		// Set com pins hardware configuration
  79:ssd1306xled.c **** 	0xDB, 0x20,		// --set vcomh, 0x20,0.77xVcc
  80:ssd1306xled.c **** 	0x8D, 0x14,		// Charge Pump Setting, 14h = Enable Charge Pump
  81:ssd1306xled.c **** 	0xAF,			// Display ON in normal mode
  82:ssd1306xled.c **** */
  83:ssd1306xled.c **** };
  84:ssd1306xled.c **** 
  85:ssd1306xled.c **** // ============================================================================
  86:ssd1306xled.c **** 
  87:ssd1306xled.c **** // NOTE: These functions are separate sub-library for handling I2C simplified output.
  88:ssd1306xled.c **** // NAME: I2CSW - I2C Simple Writer.
  89:ssd1306xled.c **** // Convenience definitions for manipulating PORTB pins
  90:ssd1306xled.c **** // NOTE: These definitions are used only internally by the I2CSW library
  91:ssd1306xled.c **** #define I2CSW_HIGH(PORT) PORTB |= (1 << PORT)
  92:ssd1306xled.c **** #define I2CSW_LOW(PORT) PORTB &= ~(1 << PORT)
  93:ssd1306xled.c **** 
  94:ssd1306xled.c **** // ----------------------------------------------------------------------------
  95:ssd1306xled.c **** 
  96:ssd1306xled.c **** void i2csw_start(void);
  97:ssd1306xled.c **** void i2csw_stop(void);
  98:ssd1306xled.c **** void i2csw_byte(uint8_t byte);
  99:ssd1306xled.c **** 
 100:ssd1306xled.c **** // ----------------------------------------------------------------------------
 101:ssd1306xled.c **** 
 102:ssd1306xled.c **** void i2csw_start(void) {
  15               		.loc 1 102 24 view -0
  16               		.cfi_startproc
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
 103:ssd1306xled.c **** 	DDRB |= (1 << SSD1306_SDA);	// Set port as output
  21               		.loc 1 103 1 view .LVU1
  22               		.loc 1 103 6 is_stmt 0 view .LVU2
  23 0000 B89A      		sbi 0x17,0
 104:ssd1306xled.c **** 	DDRB |= (1 << SSD1306_SCL);	// Set port as output
  24               		.loc 1 104 1 is_stmt 1 view .LVU3
  25               		.loc 1 104 6 is_stmt 0 view .LVU4
  26 0002 BA9A      		sbi 0x17,2
 105:ssd1306xled.c **** 	I2CSW_HIGH(SSD1306_SCL);	// Set to HIGH
  27               		.loc 1 105 1 is_stmt 1 view .LVU5
  28               		.loc 1 105 1 is_stmt 0 view .LVU6
  29 0004 C29A      		sbi 0x18,2
 106:ssd1306xled.c **** 	I2CSW_HIGH(SSD1306_SDA);	// Set to HIGH
  30               		.loc 1 106 1 is_stmt 1 view .LVU7
  31               		.loc 1 106 1 is_stmt 0 view .LVU8
  32 0006 C09A      		sbi 0x18,0
 107:ssd1306xled.c **** 	I2CSW_LOW(SSD1306_SDA);		// Set to LOW
  33               		.loc 1 107 1 is_stmt 1 view .LVU9
  34               		.loc 1 107 1 is_stmt 0 view .LVU10
  35 0008 C098      		cbi 0x18,0
 108:ssd1306xled.c **** 	I2CSW_LOW(SSD1306_SCL);		// Set to LOW
  36               		.loc 1 108 1 is_stmt 1 view .LVU11
  37               		.loc 1 108 1 is_stmt 0 view .LVU12
  38 000a C298      		cbi 0x18,2
  39               	/* epilogue start */
 109:ssd1306xled.c **** }
  40               		.loc 1 109 1 view .LVU13
  41 000c 0895      		ret
  42               		.cfi_endproc
  43               	.LFE5:
  45               	.global	i2csw_stop
  47               	i2csw_stop:
  48               	.LFB6:
 110:ssd1306xled.c **** 
 111:ssd1306xled.c **** void i2csw_stop(void) {
  49               		.loc 1 111 23 is_stmt 1 view -0
  50               		.cfi_startproc
  51               	/* prologue: function */
  52               	/* frame size = 0 */
  53               	/* stack size = 0 */
  54               	.L__stack_usage = 0
 112:ssd1306xled.c **** 	I2CSW_LOW(SSD1306_SCL);		// Set to LOW
  55               		.loc 1 112 1 view .LVU15
  56               		.loc 1 112 1 is_stmt 0 view .LVU16
  57 000e C298      		cbi 0x18,2
 113:ssd1306xled.c **** 	I2CSW_LOW(SSD1306_SDA);		// Set to LOW
  58               		.loc 1 113 1 is_stmt 1 view .LVU17
  59               		.loc 1 113 1 is_stmt 0 view .LVU18
  60 0010 C098      		cbi 0x18,0
 114:ssd1306xled.c **** 	I2CSW_HIGH(SSD1306_SCL);	// Set to HIGH
  61               		.loc 1 114 1 is_stmt 1 view .LVU19
  62               		.loc 1 114 1 is_stmt 0 view .LVU20
  63 0012 C29A      		sbi 0x18,2
 115:ssd1306xled.c **** 	I2CSW_HIGH(SSD1306_SDA);	// Set to HIGH
  64               		.loc 1 115 1 is_stmt 1 view .LVU21
  65               		.loc 1 115 1 is_stmt 0 view .LVU22
  66 0014 C09A      		sbi 0x18,0
 116:ssd1306xled.c **** 	DDRB &= ~(1 << SSD1306_SDA);// Set port as input
  67               		.loc 1 116 1 is_stmt 1 view .LVU23
  68               		.loc 1 116 6 is_stmt 0 view .LVU24
  69 0016 B898      		cbi 0x17,0
  70               	/* epilogue start */
 117:ssd1306xled.c **** }
  71               		.loc 1 117 1 view .LVU25
  72 0018 0895      		ret
  73               		.cfi_endproc
  74               	.LFE6:
  76               	.global	i2csw_byte
  78               	i2csw_byte:
  79               	.LVL0:
  80               	.LFB7:
 118:ssd1306xled.c **** 
 119:ssd1306xled.c **** void i2csw_byte(uint8_t byte) {
  81               		.loc 1 119 31 is_stmt 1 view -0
  82               		.cfi_startproc
  83               	/* prologue: function */
  84               	/* frame size = 0 */
  85               	/* stack size = 0 */
  86               	.L__stack_usage = 0
 120:ssd1306xled.c **** 	uint8_t i;
  87               		.loc 1 120 2 view .LVU27
 121:ssd1306xled.c **** 	for (i = 0; i < 8; i++) {
  88               		.loc 1 121 2 view .LVU28
 119:ssd1306xled.c **** 	uint8_t i;
  89               		.loc 1 119 31 is_stmt 0 view .LVU29
  90 001a 30E0      		ldi r19,0
  91 001c 20E0      		ldi r18,0
 122:ssd1306xled.c **** 		if ((byte << i) & 0x80)
  92               		.loc 1 122 13 view .LVU30
  93 001e 90E0      		ldi r25,0
  94               	.LVL1:
  95               	.L6:
  96               		.loc 1 122 3 is_stmt 1 view .LVU31
  97               		.loc 1 122 13 is_stmt 0 view .LVU32
  98 0020 AC01      		movw r20,r24
  99 0022 022E      		mov r0,r18
 100 0024 00C0      		rjmp 2f
 101               		1:
 102 0026 440F      		lsl r20
 103               		2:
 104 0028 0A94      		dec r0
 105 002a 02F4      		brpl 1b
 106               		.loc 1 122 6 view .LVU33
 107 002c 47FF      		sbrs r20,7
 108 002e 00C0      		rjmp .L4
 123:ssd1306xled.c **** 			I2CSW_HIGH(SSD1306_SDA);
 109               		.loc 1 123 3 is_stmt 1 view .LVU34
 110               		.loc 1 123 3 is_stmt 0 view .LVU35
 111 0030 C09A      		sbi 0x18,0
 112               	.L5:
 124:ssd1306xled.c **** 		else
 125:ssd1306xled.c **** 			I2CSW_LOW(SSD1306_SDA);
 126:ssd1306xled.c **** 		I2CSW_HIGH(SSD1306_SCL);
 113               		.loc 1 126 2 is_stmt 1 discriminator 2 view .LVU36
 114               		.loc 1 126 2 is_stmt 0 discriminator 2 view .LVU37
 115 0032 C29A      		sbi 0x18,2
 127:ssd1306xled.c **** 		I2CSW_LOW(SSD1306_SCL);
 116               		.loc 1 127 2 is_stmt 1 discriminator 2 view .LVU38
 117               		.loc 1 127 2 is_stmt 0 discriminator 2 view .LVU39
 118 0034 C298      		cbi 0x18,2
 119               	.LVL2:
 120               		.loc 1 127 2 discriminator 2 view .LVU40
 121 0036 2F5F      		subi r18,-1
 122 0038 3F4F      		sbci r19,-1
 123               	.LVL3:
 121:ssd1306xled.c **** 		if ((byte << i) & 0x80)
 124               		.loc 1 121 2 discriminator 2 view .LVU41
 125 003a 2830      		cpi r18,8
 126 003c 3105      		cpc r19,__zero_reg__
 127 003e 01F4      		brne .L6
 128:ssd1306xled.c **** 	}
 129:ssd1306xled.c **** 	I2CSW_HIGH(SSD1306_SDA);
 128               		.loc 1 129 1 is_stmt 1 view .LVU42
 129               		.loc 1 129 1 is_stmt 0 view .LVU43
 130 0040 C09A      		sbi 0x18,0
 130:ssd1306xled.c **** 	I2CSW_HIGH(SSD1306_SCL);
 131               		.loc 1 130 1 is_stmt 1 view .LVU44
 132               		.loc 1 130 1 is_stmt 0 view .LVU45
 133 0042 C29A      		sbi 0x18,2
 131:ssd1306xled.c **** 	I2CSW_LOW(SSD1306_SCL);
 134               		.loc 1 131 1 is_stmt 1 view .LVU46
 135               		.loc 1 131 1 is_stmt 0 view .LVU47
 136 0044 C298      		cbi 0x18,2
 137               	/* epilogue start */
 132:ssd1306xled.c **** }
 138               		.loc 1 132 1 view .LVU48
 139 0046 0895      		ret
 140               	.L4:
 125:ssd1306xled.c **** 		I2CSW_HIGH(SSD1306_SCL);
 141               		.loc 1 125 3 is_stmt 1 view .LVU49
 125:ssd1306xled.c **** 		I2CSW_HIGH(SSD1306_SCL);
 142               		.loc 1 125 3 is_stmt 0 view .LVU50
 143 0048 C098      		cbi 0x18,0
 144 004a 00C0      		rjmp .L5
 145               		.cfi_endproc
 146               	.LFE7:
 148               	.global	ssd1306_start_command
 150               	ssd1306_start_command:
 151               	.LFB8:
 133:ssd1306xled.c **** 
 134:ssd1306xled.c **** // ============================================================================
 135:ssd1306xled.c **** 
 136:ssd1306xled.c **** void ssd1306_start_command(void) {
 152               		.loc 1 136 34 is_stmt 1 view -0
 153               		.cfi_startproc
 154               	/* prologue: function */
 155               	/* frame size = 0 */
 156               	/* stack size = 0 */
 157               	.L__stack_usage = 0
 137:ssd1306xled.c **** 	i2csw_start();
 158               		.loc 1 137 2 view .LVU52
 159 004c 00D0      		rcall i2csw_start
 160               	.LVL4:
 138:ssd1306xled.c **** 	i2csw_byte(SSD1306_SADDR);	// Slave address: R/W(SA0)=0 - write
 161               		.loc 1 138 2 view .LVU53
 162 004e 88E7      		ldi r24,lo8(120)
 163 0050 00D0      		rcall i2csw_byte
 164               	.LVL5:
 139:ssd1306xled.c **** 	i2csw_byte(0x00);			// Control byte: D/C=0 - write command
 165               		.loc 1 139 2 view .LVU54
 166 0052 80E0      		ldi r24,0
 167 0054 00C0      		rjmp i2csw_byte
 168               	.LVL6:
 169               		.cfi_endproc
 170               	.LFE8:
 172               	.global	ssd1306_start_data
 174               	ssd1306_start_data:
 175               	.LFB9:
 140:ssd1306xled.c **** }
 141:ssd1306xled.c **** 
 142:ssd1306xled.c **** void ssd1306_start_data(void) {
 176               		.loc 1 142 31 view -0
 177               		.cfi_startproc
 178               	/* prologue: function */
 179               	/* frame size = 0 */
 180               	/* stack size = 0 */
 181               	.L__stack_usage = 0
 143:ssd1306xled.c **** 	i2csw_start();
 182               		.loc 1 143 2 view .LVU56
 183 0056 00D0      		rcall i2csw_start
 184               	.LVL7:
 144:ssd1306xled.c **** 	i2csw_byte(SSD1306_SADDR);	// Slave address, R/W(SA0)=0 - write
 185               		.loc 1 144 2 view .LVU57
 186 0058 88E7      		ldi r24,lo8(120)
 187 005a 00D0      		rcall i2csw_byte
 188               	.LVL8:
 145:ssd1306xled.c **** 	i2csw_byte(0x40);			// Control byte: D/C=1 - write data
 189               		.loc 1 145 2 view .LVU58
 190 005c 80E4      		ldi r24,lo8(64)
 191 005e 00C0      		rjmp i2csw_byte
 192               	.LVL9:
 193               		.cfi_endproc
 194               	.LFE9:
 196               	.global	ssd1306_data_byte
 198               	ssd1306_data_byte:
 199               	.LVL10:
 200               	.LFB10:
 146:ssd1306xled.c **** }
 147:ssd1306xled.c **** 
 148:ssd1306xled.c **** void ssd1306_data_byte(uint8_t b) {
 201               		.loc 1 148 35 view -0
 202               		.cfi_startproc
 203               	/* prologue: function */
 204               	/* frame size = 0 */
 205               	/* stack size = 0 */
 206               	.L__stack_usage = 0
 149:ssd1306xled.c **** 	i2csw_byte(b);
 207               		.loc 1 149 2 view .LVU60
 208 0060 00C0      		rjmp i2csw_byte
 209               	.LVL11:
 210               		.loc 1 149 2 is_stmt 0 view .LVU61
 211               		.cfi_endproc
 212               	.LFE10:
 214               	.global	ssd1306_stop
 216               	ssd1306_stop:
 217               	.LFB11:
 150:ssd1306xled.c **** }
 151:ssd1306xled.c **** 
 152:ssd1306xled.c **** void ssd1306_stop(void) {
 218               		.loc 1 152 25 is_stmt 1 view -0
 219               		.cfi_startproc
 220               	/* prologue: function */
 221               	/* frame size = 0 */
 222               	/* stack size = 0 */
 223               	.L__stack_usage = 0
 153:ssd1306xled.c **** 	i2csw_stop();
 224               		.loc 1 153 2 view .LVU63
 225 0062 00C0      		rjmp i2csw_stop
 226               	.LVL12:
 227               		.cfi_endproc
 228               	.LFE11:
 230               	.global	ssd1306_init
 232               	ssd1306_init:
 233               	.LFB12:
 154:ssd1306xled.c **** }
 155:ssd1306xled.c **** 
 156:ssd1306xled.c **** // ============================================================================
 157:ssd1306xled.c **** 
 158:ssd1306xled.c **** void ssd1306_init(void) {
 234               		.loc 1 158 25 view -0
 235               		.cfi_startproc
 236 0064 CF93      		push r28
 237               	.LCFI0:
 238               		.cfi_def_cfa_offset 3
 239               		.cfi_offset 28, -2
 240 0066 DF93      		push r29
 241               	.LCFI1:
 242               		.cfi_def_cfa_offset 4
 243               		.cfi_offset 29, -3
 244               	/* prologue: function */
 245               	/* frame size = 0 */
 246               	/* stack size = 2 */
 247               	.L__stack_usage = 2
 159:ssd1306xled.c **** 	ssd1306_start_command();	// Initiate transmission of command
 248               		.loc 1 159 2 view .LVU65
 249 0068 00D0      		rcall ssd1306_start_command
 250               	.LVL13:
 160:ssd1306xled.c **** 	for (uint8_t i = 0; i < sizeof (ssd1306_init_sequence); i++) {
 251               		.loc 1 160 2 view .LVU66
 252               	.LBB27:
 253               		.loc 1 160 7 view .LVU67
 254               		.loc 1 160 7 is_stmt 0 view .LVU68
 255 006a C0E0      		ldi r28,lo8(ssd1306_init_sequence)
 256 006c D0E0      		ldi r29,hi8(ssd1306_init_sequence)
 257               	.LVL14:
 258               	.L13:
 161:ssd1306xled.c **** 		ssd1306_data_byte(pgm_read_byte(&ssd1306_init_sequence[i]));	// Send the command out
 259               		.loc 1 161 3 is_stmt 1 discriminator 3 view .LVU69
 260               	.LBB28:
 261               		.loc 1 161 37 discriminator 3 view .LVU70
 262               		.loc 1 161 24 discriminator 3 view .LVU71
 263               		.loc 1 161 42 discriminator 3 view .LVU72
 264 006e FE01      		movw r30,r28
 265               	/* #APP */
 266               	 ;  161 "ssd1306xled.c" 1
 267 0070 8491      		lpm r24, Z
 268               		
 269               	 ;  0 "" 2
 270               	.LVL15:
 271               		.loc 1 161 122 discriminator 3 view .LVU73
 272               		.loc 1 161 122 is_stmt 0 discriminator 3 view .LVU74
 273               	/* #NOAPP */
 274               	.LBE28:
 275               	.LBB29:
 276               	.LBI29:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 277               		.loc 1 148 6 is_stmt 1 discriminator 3 view .LVU75
 278               	.LBB30:
 149:ssd1306xled.c **** }
 279               		.loc 1 149 2 discriminator 3 view .LVU76
 280 0072 00D0      		rcall i2csw_byte
 281               	.LVL16:
 149:ssd1306xled.c **** }
 282               		.loc 1 149 2 is_stmt 0 discriminator 3 view .LVU77
 283 0074 2196      		adiw r28,1
 284               	.LVL17:
 149:ssd1306xled.c **** }
 285               		.loc 1 149 2 discriminator 3 view .LVU78
 286               	.LBE30:
 287               	.LBE29:
 160:ssd1306xled.c **** 		ssd1306_data_byte(pgm_read_byte(&ssd1306_init_sequence[i]));	// Send the command out
 288               		.loc 1 160 2 discriminator 3 view .LVU79
 289 0076 F0E0      		ldi r31,hi8(ssd1306_init_sequence+32)
 290 0078 C030      		cpi r28,lo8(ssd1306_init_sequence+32)
 291 007a DF07      		cpc r29,r31
 292 007c 01F4      		brne .L13
 293               	.LBE27:
 162:ssd1306xled.c **** 	}
 163:ssd1306xled.c **** 	ssd1306_stop();	// Finish transmission
 294               		.loc 1 163 2 is_stmt 1 view .LVU80
 295               	.LBB31:
 296               	.LBI31:
 152:ssd1306xled.c **** 	i2csw_stop();
 297               		.loc 1 152 6 view .LVU81
 298               	.LBB32:
 153:ssd1306xled.c **** }
 299               		.loc 1 153 2 view .LVU82
 300               	/* epilogue start */
 301               	.LBE32:
 302               	.LBE31:
 164:ssd1306xled.c **** }
 303               		.loc 1 164 1 is_stmt 0 view .LVU83
 304 007e DF91      		pop r29
 305 0080 CF91      		pop r28
 306               	.LVL18:
 307               	.LBB34:
 308               	.LBB33:
 153:ssd1306xled.c **** }
 309               		.loc 1 153 2 view .LVU84
 310 0082 00C0      		rjmp i2csw_stop
 311               	.LVL19:
 312               	.LBE33:
 313               	.LBE34:
 314               		.cfi_endproc
 315               	.LFE12:
 317               	.global	ssd1306_setpos
 319               	ssd1306_setpos:
 320               	.LVL20:
 321               	.LFB13:
 165:ssd1306xled.c **** 
 166:ssd1306xled.c **** void ssd1306_setpos(uint8_t x, uint8_t y) {
 322               		.loc 1 166 43 is_stmt 1 view -0
 323               		.cfi_startproc
 324               		.loc 1 166 43 is_stmt 0 view .LVU86
 325 0084 CF93      		push r28
 326               	.LCFI2:
 327               		.cfi_def_cfa_offset 3
 328               		.cfi_offset 28, -2
 329 0086 DF93      		push r29
 330               	.LCFI3:
 331               		.cfi_def_cfa_offset 4
 332               		.cfi_offset 29, -3
 333               	/* prologue: function */
 334               	/* frame size = 0 */
 335               	/* stack size = 2 */
 336               	.L__stack_usage = 2
 337 0088 C82F      		mov r28,r24
 338 008a D62F      		mov r29,r22
 167:ssd1306xled.c **** 	ssd1306_start_command();
 339               		.loc 1 167 2 is_stmt 1 view .LVU87
 340 008c 00D0      		rcall ssd1306_start_command
 341               	.LVL21:
 168:ssd1306xled.c **** 	ssd1306_data_byte(0xb0 | (y & 0x07));	// Set page start address
 342               		.loc 1 168 2 view .LVU88
 343               	.LBB35:
 344               	.LBI35:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 345               		.loc 1 148 6 view .LVU89
 346               	.LBB36:
 149:ssd1306xled.c **** }
 347               		.loc 1 149 2 view .LVU90
 348               	.LBE36:
 349               	.LBE35:
 350               		.loc 1 168 30 is_stmt 0 view .LVU91
 351 008e 8D2F      		mov r24,r29
 352 0090 8770      		andi r24,lo8(7)
 353               	.LBB38:
 354               	.LBB37:
 149:ssd1306xled.c **** }
 355               		.loc 1 149 2 view .LVU92
 356 0092 806B      		ori r24,lo8(-80)
 357               	.LVL22:
 149:ssd1306xled.c **** }
 358               		.loc 1 149 2 view .LVU93
 359 0094 00D0      		rcall i2csw_byte
 360               	.LVL23:
 149:ssd1306xled.c **** }
 361               		.loc 1 149 2 view .LVU94
 362               	.LBE37:
 363               	.LBE38:
 169:ssd1306xled.c **** 	ssd1306_data_byte(x & 0x0f);			// Set the lower nibble of the column start address
 364               		.loc 1 169 2 is_stmt 1 view .LVU95
 365               	.LBB39:
 366               	.LBI39:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 367               		.loc 1 148 6 view .LVU96
 368               	.LBB40:
 149:ssd1306xled.c **** }
 369               		.loc 1 149 2 view .LVU97
 370 0096 8C2F      		mov r24,r28
 371 0098 8F70      		andi r24,lo8(15)
 372               	.LVL24:
 149:ssd1306xled.c **** }
 373               		.loc 1 149 2 is_stmt 0 view .LVU98
 374 009a 00D0      		rcall i2csw_byte
 375               	.LVL25:
 149:ssd1306xled.c **** }
 376               		.loc 1 149 2 view .LVU99
 377               	.LBE40:
 378               	.LBE39:
 170:ssd1306xled.c **** 	ssd1306_data_byte(0x10 | (x >> 4));		// Set the higher nibble of the column start address
 379               		.loc 1 170 2 is_stmt 1 view .LVU100
 380               	.LBB41:
 381               	.LBI41:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 382               		.loc 1 148 6 view .LVU101
 383               	.LBB42:
 149:ssd1306xled.c **** }
 384               		.loc 1 149 2 view .LVU102
 385               	.LBE42:
 386               	.LBE41:
 387               		.loc 1 170 2 is_stmt 0 view .LVU103
 388 009c 8C2F      		mov r24,r28
 389 009e 8295      		swap r24
 390 00a0 8F70      		andi r24,lo8(15)
 391               	.LBB44:
 392               	.LBB43:
 149:ssd1306xled.c **** }
 393               		.loc 1 149 2 view .LVU104
 394 00a2 8061      		ori r24,lo8(16)
 395 00a4 00D0      		rcall i2csw_byte
 396               	.LVL26:
 149:ssd1306xled.c **** }
 397               		.loc 1 149 2 view .LVU105
 398               	.LBE43:
 399               	.LBE44:
 171:ssd1306xled.c **** 	ssd1306_stop();	// Finish transmission
 400               		.loc 1 171 2 is_stmt 1 view .LVU106
 401               	.LBB45:
 402               	.LBI45:
 152:ssd1306xled.c **** 	i2csw_stop();
 403               		.loc 1 152 6 view .LVU107
 404               	.LBB46:
 153:ssd1306xled.c **** }
 405               		.loc 1 153 2 view .LVU108
 406               	/* epilogue start */
 407               	.LBE46:
 408               	.LBE45:
 172:ssd1306xled.c **** }
 409               		.loc 1 172 1 is_stmt 0 view .LVU109
 410 00a6 DF91      		pop r29
 411               	.LVL27:
 412               		.loc 1 172 1 view .LVU110
 413 00a8 CF91      		pop r28
 414               	.LVL28:
 415               	.LBB48:
 416               	.LBB47:
 153:ssd1306xled.c **** }
 417               		.loc 1 153 2 view .LVU111
 418 00aa 00C0      		rjmp i2csw_stop
 419               	.LVL29:
 420               	.LBE47:
 421               	.LBE48:
 422               		.cfi_endproc
 423               	.LFE13:
 425               	.global	ssd1306_fill4
 427               	ssd1306_fill4:
 428               	.LVL30:
 429               	.LFB14:
 173:ssd1306xled.c **** 
 174:ssd1306xled.c **** void ssd1306_fill4(uint8_t p1, uint8_t p2, uint8_t p3, uint8_t p4) {
 430               		.loc 1 174 68 is_stmt 1 view -0
 431               		.cfi_startproc
 432               		.loc 1 174 68 is_stmt 0 view .LVU113
 433 00ac EF92      		push r14
 434               	.LCFI4:
 435               		.cfi_def_cfa_offset 3
 436               		.cfi_offset 14, -2
 437 00ae FF92      		push r15
 438               	.LCFI5:
 439               		.cfi_def_cfa_offset 4
 440               		.cfi_offset 15, -3
 441 00b0 0F93      		push r16
 442               	.LCFI6:
 443               		.cfi_def_cfa_offset 5
 444               		.cfi_offset 16, -4
 445 00b2 1F93      		push r17
 446               	.LCFI7:
 447               		.cfi_def_cfa_offset 6
 448               		.cfi_offset 17, -5
 449 00b4 CF93      		push r28
 450               	.LCFI8:
 451               		.cfi_def_cfa_offset 7
 452               		.cfi_offset 28, -6
 453 00b6 DF93      		push r29
 454               	.LCFI9:
 455               		.cfi_def_cfa_offset 8
 456               		.cfi_offset 29, -7
 457               	/* prologue: function */
 458               	/* frame size = 0 */
 459               	/* stack size = 6 */
 460               	.L__stack_usage = 6
 461 00b8 E82E      		mov r14,r24
 462 00ba F62E      		mov r15,r22
 463 00bc 042F      		mov r16,r20
 464 00be 122F      		mov r17,r18
 175:ssd1306xled.c **** 	ssd1306_setpos(0, 0);
 465               		.loc 1 175 2 is_stmt 1 view .LVU114
 466 00c0 60E0      		ldi r22,0
 467               	.LVL31:
 468               		.loc 1 175 2 is_stmt 0 view .LVU115
 469 00c2 80E0      		ldi r24,0
 470               	.LVL32:
 471               		.loc 1 175 2 view .LVU116
 472 00c4 00D0      		rcall ssd1306_setpos
 473               	.LVL33:
 176:ssd1306xled.c **** 	ssd1306_start_data();	// Initiate transmission of data
 474               		.loc 1 176 2 is_stmt 1 view .LVU117
 475 00c6 00D0      		rcall ssd1306_start_data
 476               	.LVL34:
 177:ssd1306xled.c **** 	for (uint16_t i = 0; i < 128 * 8 / 4; i++) {
 477               		.loc 1 177 2 view .LVU118
 478               	.LBB49:
 479               		.loc 1 177 7 view .LVU119
 480               		.loc 1 177 7 is_stmt 0 view .LVU120
 481               	.LBE49:
 176:ssd1306xled.c **** 	ssd1306_start_data();	// Initiate transmission of data
 482               		.loc 1 176 2 view .LVU121
 483 00c8 C0E0      		ldi r28,0
 484 00ca D1E0      		ldi r29,lo8(1)
 485               	.LVL35:
 486               	.L17:
 487               	.LBB58:
 178:ssd1306xled.c **** 		ssd1306_data_byte(p1);
 488               		.loc 1 178 3 is_stmt 1 view .LVU122
 489               	.LBB50:
 490               	.LBI50:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 491               		.loc 1 148 6 view .LVU123
 492               	.LBB51:
 149:ssd1306xled.c **** }
 493               		.loc 1 149 2 view .LVU124
 494 00cc 8E2D      		mov r24,r14
 495 00ce 00D0      		rcall i2csw_byte
 496               	.LVL36:
 149:ssd1306xled.c **** }
 497               		.loc 1 149 2 is_stmt 0 view .LVU125
 498               	.LBE51:
 499               	.LBE50:
 179:ssd1306xled.c **** 		ssd1306_data_byte(p2);
 500               		.loc 1 179 3 is_stmt 1 view .LVU126
 501               	.LBB52:
 502               	.LBI52:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 503               		.loc 1 148 6 view .LVU127
 504               	.LBB53:
 149:ssd1306xled.c **** }
 505               		.loc 1 149 2 view .LVU128
 506 00d0 8F2D      		mov r24,r15
 507 00d2 00D0      		rcall i2csw_byte
 508               	.LVL37:
 149:ssd1306xled.c **** }
 509               		.loc 1 149 2 is_stmt 0 view .LVU129
 510               	.LBE53:
 511               	.LBE52:
 180:ssd1306xled.c **** 		ssd1306_data_byte(p3);
 512               		.loc 1 180 3 is_stmt 1 view .LVU130
 513               	.LBB54:
 514               	.LBI54:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 515               		.loc 1 148 6 view .LVU131
 516               	.LBB55:
 149:ssd1306xled.c **** }
 517               		.loc 1 149 2 view .LVU132
 518 00d4 802F      		mov r24,r16
 519 00d6 00D0      		rcall i2csw_byte
 520               	.LVL38:
 149:ssd1306xled.c **** }
 521               		.loc 1 149 2 is_stmt 0 view .LVU133
 522               	.LBE55:
 523               	.LBE54:
 181:ssd1306xled.c **** 		ssd1306_data_byte(p4);
 524               		.loc 1 181 3 is_stmt 1 view .LVU134
 525               	.LBB56:
 526               	.LBI56:
 148:ssd1306xled.c **** 	i2csw_byte(b);
 527               		.loc 1 148 6 view .LVU135
 528               	.LBB57:
 149:ssd1306xled.c **** }
 529               		.loc 1 149 2 view .LVU136
 530 00d8 812F      		mov r24,r17
 531 00da 00D0      		rcall i2csw_byte
 532               	.LVL39:
 149:ssd1306xled.c **** }
 533               		.loc 1 149 2 is_stmt 0 view .LVU137
 534 00dc 2197      		sbiw r28,1
 535               	.LVL40:
 149:ssd1306xled.c **** }
 536               		.loc 1 149 2 view .LVU138
 537               	.LBE57:
 538               	.LBE56:
 177:ssd1306xled.c **** 		ssd1306_data_byte(p1);
 539               		.loc 1 177 2 view .LVU139
 540 00de 01F4      		brne .L17
 541               	.LBE58:
 182:ssd1306xled.c **** 	}
 183:ssd1306xled.c **** 	ssd1306_stop();	// Finish transmission
 542               		.loc 1 183 2 is_stmt 1 view .LVU140
 543               	.LBB59:
 544               	.LBI59:
 152:ssd1306xled.c **** 	i2csw_stop();
 545               		.loc 1 152 6 view .LVU141
 546               	.LBB60:
 153:ssd1306xled.c **** }
 547               		.loc 1 153 2 view .LVU142
 548               	/* epilogue start */
 549               	.LBE60:
 550               	.LBE59:
 184:ssd1306xled.c **** }
 551               		.loc 1 184 1 is_stmt 0 view .LVU143
 552 00e0 DF91      		pop r29
 553 00e2 CF91      		pop r28
 554               	.LVL41:
 555               		.loc 1 184 1 view .LVU144
 556 00e4 1F91      		pop r17
 557               	.LVL42:
 558               		.loc 1 184 1 view .LVU145
 559 00e6 0F91      		pop r16
 560               	.LVL43:
 561               		.loc 1 184 1 view .LVU146
 562 00e8 FF90      		pop r15
 563               	.LVL44:
 564               		.loc 1 184 1 view .LVU147
 565 00ea EF90      		pop r14
 566               	.LVL45:
 567               	.LBB62:
 568               	.LBB61:
 153:ssd1306xled.c **** }
 569               		.loc 1 153 2 view .LVU148
 570 00ec 00C0      		rjmp i2csw_stop
 571               	.LVL46:
 572               	.LBE61:
 573               	.LBE62:
 574               		.cfi_endproc
 575               	.LFE14:
 577               	.global	ssd1306_init_sequence
 578               		.section	.progmem.data,"a",@progbits
 581               	ssd1306_init_sequence:
 582 0000 AE        		.byte	-82
 583 0001 D5        		.byte	-43
 584 0002 F0        		.byte	-16
 585 0003 A8        		.byte	-88
 586 0004 1F        		.byte	31
 587 0005 D3        		.byte	-45
 588 0006 00        		.byte	0
 589 0007 40        		.byte	64
 590 0008 8D        		.byte	-115
 591 0009 14        		.byte	20
 592 000a 20        		.byte	32
 593 000b 00        		.byte	0
 594 000c A1        		.byte	-95
 595 000d C8        		.byte	-56
 596 000e DA        		.byte	-38
 597 000f 02        		.byte	2
 598 0010 81        		.byte	-127
 599 0011 3F        		.byte	63
 600 0012 D9        		.byte	-39
 601 0013 22        		.byte	34
 602 0014 DB        		.byte	-37
 603 0015 20        		.byte	32
 604 0016 A4        		.byte	-92
 605 0017 A6        		.byte	-90
 606 0018 2E        		.byte	46
 607 0019 AF        		.byte	-81
 608 001a 22        		.byte	34
 609 001b 00        		.byte	0
 610 001c 3F        		.byte	63
 611 001d 21        		.byte	33
 612 001e 00        		.byte	0
 613 001f 7F        		.byte	127
 614               		.text
 615               	.Letext0:
 616               		.file 2 "/usr/local/Cellar/avr-gcc/8.2.0/avr/include/stdlib.h"
 617               		.file 3 "/usr/local/Cellar/avr-gcc/8.2.0/lib/avr-gcc/8/gcc/avr/8.2.0/include/stddef.h"
 618               		.file 4 "/usr/local/Cellar/avr-gcc/8.2.0/avr/include/stdint.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 ssd1306xled.c
       ssd1306xled.s:2      *ABS*:000000000000003e __SP_H__
       ssd1306xled.s:3      *ABS*:000000000000003d __SP_L__
       ssd1306xled.s:4      *ABS*:000000000000003f __SREG__
       ssd1306xled.s:5      *ABS*:0000000000000000 __tmp_reg__
       ssd1306xled.s:6      *ABS*:0000000000000001 __zero_reg__
       ssd1306xled.s:12     .text:0000000000000000 i2csw_start
       ssd1306xled.s:47     .text:000000000000000e i2csw_stop
       ssd1306xled.s:78     .text:000000000000001a i2csw_byte
       ssd1306xled.s:150    .text:000000000000004c ssd1306_start_command
       ssd1306xled.s:174    .text:0000000000000056 ssd1306_start_data
       ssd1306xled.s:198    .text:0000000000000060 ssd1306_data_byte
       ssd1306xled.s:216    .text:0000000000000062 ssd1306_stop
       ssd1306xled.s:232    .text:0000000000000064 ssd1306_init
       ssd1306xled.s:581    .progmem.data:0000000000000000 ssd1306_init_sequence
       ssd1306xled.s:319    .text:0000000000000084 ssd1306_setpos
       ssd1306xled.s:427    .text:00000000000000ac ssd1306_fill4

NO UNDEFINED SYMBOLS
